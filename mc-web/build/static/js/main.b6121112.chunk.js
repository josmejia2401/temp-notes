(this["webpackJsonpgoogle-keep-like"]=this["webpackJsonpgoogle-keep-like"]||[]).push([[0],{205:function(t,e,n){},206:function(t,e,n){},207:function(t,e,n){},208:function(t,e,n){},209:function(t,e,n){},210:function(t,e,n){},211:function(t,e,n){},212:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n(0),i=n.n(o),c=n(78),s=n.n(c),r=n(4),l=n(5),u=n(7),d=n(6),h=(n(86),n(87),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.description,o=t.onClick;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"card note",onClick:o,children:[e&&Object(a.jsx)("div",{className:"note-title",children:e}),Object(a.jsx)("div",{className:"note-content",dangerouslySetInnerHTML:{__html:n}})]})})}}]),n}(o.PureComponent)),p=n(79),j=n.n(p),f=n(24),v={fitWidth:!0},m={width:240,textDecoration:"none",color:"inherit"},b=function(t){var e=t.notes;return Object(a.jsx)(j.a,{className:"note-list-container",options:v,children:e.map((function(t,e){return Object(a.jsx)(f.b,{to:"/notes/".concat(t.id),onClick:function(e){return function(t,e){window.activeNote={note:t,layout:e.currentTarget.getBoundingClientRect()}}(t,e)},style:m,children:Object(a.jsx)(h,{title:t.title,description:t.description})},e)}))})},O=n(22),g=n(21),x=(n(205),n(12)),y=(n(206),function(t){var e=Object.assign({},t);return Object(a.jsx)("input",Object(x.a)({},e))}),D=n(33),N=(n(207),function(t){var e=t.children,n=Object(D.a)(t,["children"]);return Object(a.jsx)("button",Object(x.a)(Object(x.a)({},n),{},{children:e}))}),k=(n(208),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).handleResize=function(t){var e=t.target;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},t}return Object(l.a)(n,[{key:"render",value:function(){var t=Object.assign({},this.props);return Object(a.jsx)("textarea",Object(x.a)(Object(x.a)({},t),{},{onInput:this.handleResize}))}}]),n}(o.Component)),C={title:{value:""},description:{value:""}},w=function(t){return{title:{value:t.title},description:{value:t.description}}},S=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var a;Object(r.a)(this,n),(a=e.call(this,t)).handleChange=function(t){var e=t.target.name;a.setState(Object(O.a)({},e,{value:t.target.value}))},a.handleSubmit=function(t){t.preventDefault();var e=a.props,n=e.onSubmit,o=e.note,i={title:a.state.title.value,description:a.state.description.value.replace(/\n/g,"</br>")};o&&(i.id=o.id),n(i),a.setState(C)},a.getValue=function(t){var e=a.state[t].value;return e=e.replace(/<\s*\/?br\s*[\/]?>/g,"\n")},a.handleDelete=function(t){t.preventDefault(),a.props.onDelete&&a.props.onDelete(a.props.note)},a.handleResize=function(t){if(t&&t.target){var e=t.target;e.style.height="auto",e.style.height=e.scrollHeight+"px"}};var o=C;return t.note?o=w(t.note):window.activeNote&&window.activeNote.note&&(o=w(window.activeNote.note)),window.activeNote={},a.state=o,a.handleChange=a.handleChange.bind(Object(g.a)(a)),a}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.isEdit;return Object(a.jsx)("div",{className:"card-main composer-container ".concat(t?"edit":""),children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:"input-form",children:[Object(a.jsx)(y,{type:"text",name:"title",placeholder:"Title",autoComplete:"false",autoFocus:!0,value:this.getValue("title"),onChange:this.handleChange}),Object(a.jsx)(k,{className:"note-description",name:"description",placeholder:"Take a note...",value:this.getValue("description"),onChange:this.handleChange,onInput:this.handleResize,style:{marginTop:"10px"}}),Object(a.jsxs)("div",{className:"actions",children:[t&&Object(a.jsx)(N,{onClick:this.handleDelete,children:"Delete"}),Object(a.jsx)(N,{children:"Done"})]})]})})}}]),n}(o.Component),A=n(2),R=(n(209),n(210),{title:{value:""},description:{value:""}}),I=function(t){return{title:{value:t.title},description:{value:t.description}}},E=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var a;Object(r.a)(this,n),(a=e.call(this,t)).onResize=function(){if(a.textAreaRef&&a.textAreaRef.current){var t=document.getElementById("textAreaComposerEdit");t&&(t.style.height="auto",t.style.height=t.scrollHeight+"px")}},a.handleChange=function(t){var e=t.target.name;a.setState(Object(O.a)({},e,{value:t.target.value}))},a.handleSubmit=function(t){t.preventDefault();var e=a.props,n=e.onSubmit,o=e.note,i={title:a.state.title.value,description:a.state.description.value.replace(/\n/g,"</br>")};o&&(i.id=o.id),n(i),a.setState(R)},a.handleDelete=function(t){t.preventDefault(),a.props.onDelete&&a.props.onDelete(a.props.note)},a.handleResize=function(t){if(t&&t.target){var e=t.target;e.style.height="auto",e.style.height=e.scrollHeight+"px"}},a.handleCancel=function(t){t&&t.target&&(t.preventDefault(),a.props.history.goBack())},a.getValue=function(t){var e=a.state[t].value;return e=e.replace(/<\s*\/?br\s*[\/]?>/g,"\n")},a.handleResize=a.handleResize.bind(Object(g.a)(a)),a.textAreaRef=i.a.createRef();var o=R;return t.note?o=I(t.note):window.activeNote&&window.activeNote.note&&(o=I(window.activeNote.note)),window.activeNote={},a.state=o,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"render",value:function(){var t=this.props.isEdit;return Object(a.jsx)("div",{className:"card composer-container ".concat(t?"edit":""),children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:"input-form",children:[Object(a.jsx)(y,{type:"text",name:"title",placeholder:"Title",autoComplete:"false",autoFocus:!0,value:this.getValue("title"),onChange:this.handleChange,style:{marginBottom:"5px"}}),Object(a.jsx)(k,{id:"textAreaComposerEdit",autoFocus:!0,ref:this.textAreaRef,className:"note-description",name:"description",placeholder:"Take a note...",value:this.getValue("description"),onChange:this.handleChange,onInput:this.handleResize,style:{marginTop:"5px"}}),Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsx)(N,{children:"Actualizar"}),t&&Object(a.jsx)(N,{onClick:this.handleDelete,children:"Delete"}),Object(a.jsx)(N,{onClick:this.handleCancel,children:"Cancel"})]})]})})}}]),n}(o.Component),T=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this))._onAddItem=function(t){},t._onDeleteItem=function(e){(0,t.props.onDelete)(e),t.componentDidAppear()},t._onUpdateItem=function(e){(0,t.props.onUpdate)(e),t.componentDidAppear()},t.state={active:!1},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.componentDidEnter()}},{key:"componentWillUnmount",value:function(){this.componentDidAppear()}},{key:"componentDidEnter",value:function(){this._modal.classList.add("active"),this.setState({active:!0})}},{key:"componentDidAppear",value:function(){this._modal.classList.remove("active"),this.setState({active:!1})}},{key:"render",value:function(){var t=this,e=this.state.active?"active":"",n=this.props.note;return Object(a.jsxs)("div",{className:"box-fill modal ".concat(e),ref:function(e){return t._modal=e},children:[Object(a.jsx)("div",{className:"box-fill modal-backdrop",ref:function(e){return t._modalBackdrop=e}}),Object(a.jsx)("div",{className:"modal-content center-item",ref:function(e){return t._modalContent=e},children:Object(a.jsx)(E,{note:n,isEdit:!0,onSubmit:this._onUpdateItem,onDelete:this._onDeleteItem,history:this.props.history})})]})}}]),n}(o.Component),U=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.notes,o=e.onUpdate,i=e.onDelete;return Object(a.jsx)(A.a,{path:"/notes/:noteId",children:function(e){var c=e.match,s=(Object(D.a)(e,["match"]),null);return c&&(s=n.find((function(t){return t.id==c.params.noteId}))),c&&s?Object(a.jsx)(T,{onUpdate:o,onDelete:i,note:s,history:t.props.history}):null}})}}]),n}(o.Component),_="http://localhost:9000/ms/temp-notes";window.location.host.includes("localhost:8080")?_="http://localhost:8080/ms/temp-notes":window.location.host.includes("localhost")||(_="/ms/temp-notes");var z=function(t,e){return fetch("".concat(_).concat(t),Object(x.a)(Object(x.a)({},e),{},{headers:{"content-type":"application/json"}})).then((function(t){if(t&&!t.ok)throw Error(t.statusText);return t.json()}))},B=(n(211),n.p+"static/media/logo.103b5fa1.svg");var H=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).updateData=function(){t.setState({notes:t.state.notes,loading:!1})},t.getData=function(){var e;(e="josmejia2401",z("/".concat(e,"/get-all"),{method:"GET"})).then((function(e){e&&(t.state.notes=e),t.updateData()})).catch((function(e){console.log(e),t.updateData()}))},t.handleAddNote=function(e){t.setState({loading:!0}),function(t,e){return z("/".concat(t,"/create"),{method:"POST",body:JSON.stringify(e)})}("josmejia2401",e).then((function(e){e&&(t.state.notes.push(e),t.updateData())})).catch((function(e){console.log(e),t.updateData()}))},t.handleUpdateNote=function(e){t.setState({loading:!0}),function(t,e){return z("/".concat(t,"/").concat(e.id,"/update"),{method:"PUT",body:JSON.stringify(e)})}("josmejia2401",e).then((function(n){if(n){var a=t.state.notes.findIndex((function(t){return t.id===e.id}));-1!==a&&(t.state.notes[a]=e,t.updateData()),t.props.history.goBack()}})).catch((function(e){console.log(e),t.updateData()}))},t.handleDeleteNote=function(e){t.setState({loading:!0}),function(t,e){return z("/".concat(t,"/").concat(e.id,"/delete"),{method:"DELETE"})}("josmejia2401",e).then((function(n){if(n){var a=t.state.notes.findIndex((function(t){return t.id===e.id}));-1!==a&&(t.state.notes.splice(a,1),t.updateData()),t.props.history.goBack()}})).catch((function(e){console.log(e),t.updateData()}))},t.state={notes:[],loading:!0},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getRandomInt",value:function(t,e){return Math.floor(Math.random()*(e-t))+t}},{key:"render",value:function(){var t=this.state,e=t.notes;return t.loading?Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("img",{src:B,className:"App-logo",alt:"logo"}),Object(a.jsxs)("p",{children:["car",Object(a.jsx)("code",{children:"GAN"}),"go"]}),Object(a.jsx)("a",{className:"App-link",children:"Haciendo cosas incre\xedbles"})]})}):Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(S,{onSubmit:this.handleAddNote,history:this.props.history}),Object(a.jsx)(b,{notes:e,onUpdate:this.handleUpdateNote,onDelete:this.handleDeleteNote,history:this.props.history}),Object(a.jsx)(U,{onUpdate:this.handleUpdateNote,onDelete:this.handleDeleteNote,notes:e,location:this.props.location,history:this.props.history})]})}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=function(){return Object(a.jsx)(f.a,{children:Object(a.jsx)(A.a,{path:"/",component:H})})};s.a.render(Object(a.jsx)(M,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},86:function(t,e,n){},87:function(t,e,n){}},[[212,1,2]]]);
//# sourceMappingURL=main.b6121112.chunk.js.map